[Оглавление](../README.md) > [Глава 4. Быстрая сортировка](../README.md) >  > Рекурсивная обработка массивов

# Рекурсивная обработка массивов

При использовании стратегии **«Разделяй и властвуй»** для работы с массивами базовый случай — это:

* пустой массив
* массив из одного элемента

> Идея рекурсии: берём один элемент массива, обрабатываем его, а затем рекурсивно вызываем функцию для оставшейся части массива, пока не достигнем базового случая.

---

## Сумма всех элементов массива

Сумма всех элементов массива равна **сумме первого элемента** и **сумме всех оставшихся элементов**.
Иными словами, мы последовательно «извлекаем» элементы из массива, пока не останется пустой массив, сумма которого равна `0`.

### Пример
[Код функции `sum`](./recursive-sum.js)

```javascript
function sum(arr, index = 0) {
  if (index === arr.length) {
    return 0;
  }
  // сумма текущего элемента и рекурсия для следующего
  return arr[index] + sum(arr, index + 1);
}

console.log(sum([1, 2, 3, 4])); // 10
console.log(sum([]));           // 0
```

---

## Поиск наибольшего числа

Наибольшее число в массиве определяется как **максимум между первым элементом и максимальным элементом оставшейся части массива**.

- **Базовый случай**: массив из одного элемента → возвращаем этот элемент.
- **Рекурсивный случай**: сравниваем первый элемент с результатом рекурсии для оставшегося массива.

### Пример
[Код функции `max`](./recursive-max.js)

```javascript
module.exports = function max(arr, index = 0) {
  if (index === arr.length) {
    return undefined;
  }
  // рекурсивно сравниваем текущий элемент с максимумом оставшейся части
  return Math.max(arr[index], max(arr, index + 1));
};

// Примеры
console.log(max([1, 2, 100, 4])); // 100
console.log(max([-1, -4, -10]));  // -1
console.log(max([]));             // undefined
```

---

## Бинарный поиск

**Бинарный поиск** также использует стратегию «разделяй и властвуй».

- Массив должен быть **отсортирован**.
- Базовый случай: подмассив для поиска состоит из одного элемента.
- Рекурсивно проверяем середину массива:

  - если элемент равен искомому, то возвращаем индекс,
  - если элемент меньше искомого, то ищем в правой половине,
  - если элемент больше искомого, то ищем в левой половине.

### Пример

[Код функции `binarySearch`](./recursive-binary-search.js)

```javascript
function binarySearch(arr, target, left = 0, right = arr.length - 1) {

  if (left > right) {
    return undefined;
  }
  const mid = Math.floor((left + right) / 2);

  if (arr[mid] === target) {
    return mid;
  } else if (arr[mid] > target) {
    return binarySearch(arr, target, left, mid - 1);
  } else {
    return binarySearch(arr, target, mid + 1, right);
  }
}

const sortedList = [1, 3, 5, 7, 9];

console.log(binarySearch(sortedList, 1));   // 0
console.log(binarySearch(sortedList, 7));   // 3
console.log(binarySearch(sortedList, -1));  // undefined
```

